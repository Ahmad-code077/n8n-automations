{
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "send-email-to-n8n",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        384,
        -32
      ],
      "id": "f12ff206-abb6-4d65-a352-7107cbd4887a",
      "name": "Webhook",
      "webhookId": "f79e86b6-2449-48c8-b477-19fe1ac04ba3"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=You are tasked with creating a professional job application email body only based on the following information.\n\nJob Posting:\n{{ $json.job_description }}\n\nApplicant Resume:\n{{ $json.my_resume_content }}\n\nRequirements:\n\nWrite only the main content of the email â€” do not include the salutation (e.g., \"Hi Faiqa Rashid\") or the signature (name, email, phone, closing line). These will be added separately.\n\nInclude a short â€œtldrâ€ intro summarizing the applicantâ€™s focus/passion.\n\nExpress clear interest in the position and company.\n\nSummarize relevant skills, experience, and projects from the resume that make the applicant a strong fit.\n\nInclude a polite call-to-action paragraph without a signature.\n\nMaintain a professional, concise, and human tone.\n\nOnly use information provided in the input (resume and job post); do not hallucinate missing details.\n\nOutput Requirements:\n\nBreak the email body into logical chunks: tldr, para1, para2, para3, closing to preserve formatting.\n",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "=You are a professional job application assistant.\n\nTask:\nCreate a full, personalized job application email body only. Mimic the tone, structure, and level of detail of the example email below. Include:\n\nA short â€œtldrâ€ intro summarizing the applicantâ€™s focus/passion.\n\nParagraphs highlighting hands-on experience, skills, and technical expertise.\n\nSpecific examples of how the applicant can contribute to the company and role.\n\nDo NOT include:\n\nGreeting/salutation (e.g., \"Hi Faiqa Rashid\")\n\nSignature (name, email, phone, closing line)\n\nPortfolio, GitHub, LinkedIn links\n\nRules:\n\nIntroduction: express interest in the role and company.\n\nSkills & Experience: summarize relevant skills, experience, and projects.\n\nClosing paragraph: polite call-to-action without a signature.\n\nUse only the information provided in the input (resume and job post).\n\nMaintain a professional, concise, and human tone.\n\nBreak the email body into logical chunks: tldr, para1, para2, para3, closing to avoid broken formatting.\n\nExtract and return the following fields in JSON:\n\ntitle (string or null): Job title from the posting.\n\ncompany (string or null): Company name.\n\nrecruiter_name (string or null): Name of the recruiter/contact.\n\nrecruiter_email (string or null): Email of the recruiter/contact.\n\nlocation (string or null): Job location.\n\nwork_type (string or null): Onsite, Remote, or Hybrid.\n\nexperience (string or null): Required experience.\n\nskills (array of strings or null): Relevant skills.\n\ntimings (string or null): Work timings.\n\nemail_subject (string): Must always be present.\n\nemail_body_chunks (object, required) containing:\n\ntldr (string): 1â€“2 sentence summary of applicantâ€™s focus/passion.\n\npara1 (string): Introduction paragraph expressing interest in the role and company.\n\npara2 (string): Summary of key skills, experience, and projects, showing how the applicant is a good fit.\n\npara3 (string): Optional additional contributions or context about impact at the company.\n\nclosing (string): Polite call-to-action paragraph only (no signature).\n\nExample Email to Mimic:\n---\nRE: Engineering at ExampleCompany >\nJohn Doe <johndoe@gmail.com>\nMon, May 5, 9:46 PMâœ©\nto me\ntldr;\nI love everything about what ExampleCompany is doing. I don't have many hobbies outside coding. I am not athletic, bad at singing, don't drink, can't dance. Building is the only thing I am good at. At this point, I want to be a part of taking something from 0 -> 1 or 1 -> 100. I just want to be heads down chasing that goal\nHi,\nReally loved what you were building at ExampleCompany and wanted to reach out to see if there were any openings for Engineers in the early team. I have 5 years of relevant experience building full-stack applications primarily data-driven at previous companies where I helped scale internal micro-services to thousands of workflows and users.\nBeing a part of super lean teams, one of my strongest suites has been ability to work across the stack from building scalable, robust backend systems to high throughput data ingestion pipelines to production grade frontend components. As a part, I have built several end-to-end systems that involve several layers at the intersection of UI, Backend, and infrastructure from building complex workflows, dashboards, and internal tools to architecting entire platforms.\nI would love to be a part of the early team at ExampleCompany and define its work and culture. Looking forward to hearing from you soon!\nBest, John Doe\n---\n\nNotes:\n\nMaintain spacing and paragraph separation exactly as shown.\n\nReturn null for any missing information instead of guessing.\n\nDo not generate any links or signature details â€” these will be added separately.\n\nFocus on skills, experience, and fit with the company and role."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        1152,
        -32
      ],
      "id": "2443d373-a7b7-467b-8aad-3ec61664f126",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1136,
        160
      ],
      "id": "6f39f195-4db7-4e46-a68d-46e643aa9b2d",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "6j24kqb9tFijNrQo",
          "name": "OpenAi account G"
        }
      }
    },
    {
      "parameters": {
        "operation": "get",
        "documentURL": "https://docs.google.com/document/d/1-3eBHKB3V6NRg1TYKbpHElIUc2ABM_cgIoXL2XHz49w/edit?usp=sharing"
      },
      "type": "n8n-nodes-base.googleDocs",
      "typeVersion": 2,
      "position": [
        656,
        -32
      ],
      "id": "8126b2d0-338d-4acb-9c4f-dc6ee451c798",
      "name": "Get Resume Data",
      "credentials": {
        "googleDocsOAuth2Api": {
          "id": "k5EDpBKQPJT6t3cf",
          "name": "Google account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "return [{\n  \"my_resume_content\": $input.first().json.content,\n  \"job_description\": $('Webhook').first().json.body.jobDescription,\n  \"portfolio_url\": \"https://ahmadmamoon.netlify.app\",\n  \"linkedin_url\": \"https://www.linkedin.com/in/muhammad-ahmad077\",\n  \"github\": \"https://github.com/Ahmad-code077\"\n}];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        864,
        -32
      ],
      "id": "69d2d5ab-7c18-45a3-a606-3e8786f06214",
      "name": "Merge the data in the content"
    },
    {
      "parameters": {
        "schemaType": "manual",
        "inputSchema": "{\n  \"type\": \"object\",\n  \"properties\": {\n    \"title\": {\n      \"type\": [\"string\",\"null\"],\n      \"description\": \"Job title extracted from the job posting (e.g., 'Full Stack Developer'). Null if not mentioned.\"\n    },\n    \"company\": {\n      \"type\": [\"string\",\"null\"],\n      \"description\": \"Company name from the job post. Null if not mentioned.\"\n    },\n    \"recruiter_name\": {\n      \"type\": [\"string\",\"null\"],\n      \"description\": \"Name of the recruiter or contact person. Null if not mentioned.\"\n    },\n    \"recruiter_email\": {\n      \"type\": [\"string\",\"null\"],\n      \"description\": \"Email of the recruiter/contact. Null if not mentioned.\"\n    },\n    \"location\": {\n      \"type\": [\"string\",\"null\"],\n      \"description\": \"Job location (city, area, or remote). Null if not mentioned.\"\n    },\n    \"work_type\": {\n      \"type\": [\"string\",\"null\"],\n      \"description\": \"Work type: 'Onsite', 'Remote', or 'Hybrid'. Null if not mentioned.\"\n    },\n    \"experience\": {\n      \"type\": [\"string\",\"null\"],\n      \"description\": \"Required experience (e.g., '2+ years'). Null if not mentioned.\"\n    },\n    \"skills\": {\n      \"type\": [\"array\",\"null\"],\n      \"items\": { \"type\": \"string\" },\n      \"description\": \"Array of skills required for the job (e.g., ['JavaScript', 'ReactJS']). Null if not mentioned.\"\n    },\n    \"timings\": {\n      \"type\": [\"string\",\"null\"],\n      \"description\": \"Work timings if specified (e.g., '11AM - 8PM'). Null if not mentioned.\"\n    },\n    \"email_subject\": {\n      \"type\": \"string\",\n      \"description\": \"The subject line of the email. Must always be present.\"\n    },\n    \"email_body_chunks\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"tldr\": { \"type\": \"string\", \"description\": \"Short summary of applicant focus/passion.\" },\n        \"para1\": { \"type\": \"string\", \"description\": \"Introduction paragraph expressing interest in the role.\" },\n        \"para2\": { \"type\": \"string\", \"description\": \"Skills, experience, and project highlights.\" },\n        \"para3\": { \"type\": \"string\", \"description\": \"References to portfolio, GitHub, LinkedIn.\" },\n        \"closing\": { \"type\": \"string\", \"description\": \"Polite call-to-action and signature.\" }\n      },\n      \"required\": [\"tldr\",\"para1\",\"para2\",\"para3\",\"closing\"],\n      \"description\": \"Email body broken into logical chunks for easier formatting and integration.\"\n    }\n  },\n  \"required\": [\"email_subject\", \"email_body_chunks\"],\n  \"description\": \"JSON schema representing the extracted job details and the generated application email. Job info fields can be null if missing, but email_subject and email_body_chunks must always be returned.\"\n}\n"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        1328,
        176
      ],
      "id": "5ecd53d0-074e-43a4-9a28-d95cb6568d69",
      "name": "Structured Output Parser"
    },
    {
      "parameters": {
        "sendTo": "rough6781@gmail.com",
        "subject": "={{ $json.output.email_subject }}",
        "message": "=<!DOCTYPE html>\n<html>\n  <body style=\"font-family: Arial, sans-serif; line-height: 1.6; color: #111;\">\n    \n    <p><strong>tldr</strong><br>\n    {{ $json.output.email_body_chunks.tldr }}</p>\n    \n    <p>Dear {{ $json.output.recruiter_name || 'Hiring Manager' }},</p>\n    \n    <p>{{ $json.output.email_body_chunks.para1 }}</p>\n    \n    <p>{{ $json.output.email_body_chunks.para2 }}</p>\n    \n    <p>Please find my portfolio and GitHub for reference:</p>\n    <ul>\n      <li>GitHub: <a href=\"https://github.com/Ahmad-code077\" target=\"_blank\">https://github.com/Ahmad-code077</a></li>\n      <li>Portfolio: <a href=\"https://ahmadmamoon.netlify.app\" target=\"_blank\">https://ahmadmamoon.netlify.app</a></li>\n      <li>LinkedIn: <a href=\"https://www.linkedin.com/in/muhammad-ahmad077/\" target=\"_blank\">https://www.linkedin.com/in/muhammad-ahmad077/</a></li>\n    </ul>\n    \n    <p>{{ $json.output.email_body_chunks.para3 }}</p>\n    \n    <p>Best regards,<br>\n    Muhammad Ahmad<br>\n    +92-321-0711148<br>\n    <a href=\"mailto:ahmadeveloper077@gmail.com\">ahmadeveloper077@gmail.com</a></p>\n    \n  </body>\n</html>\n",
        "options": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        1952,
        -32
      ],
      "id": "2ef0f051-2846-44c9-9f20-101e5c911365",
      "name": "Send a message",
      "webhookId": "c7a19019-b3ad-4493-9602-87104d8f8e98",
      "credentials": {
        "gmailOAuth2": {
          "id": "FraUV4x95QqtY2Ul",
          "name": "Gmail account"
        }
      }
    }
  ],
  "connections": {
    "Webhook": {
      "main": [
        [
          {
            "node": "Get Resume Data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Send a message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Get Resume Data": {
      "main": [
        [
          {
            "node": "Merge the data in the content",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge the data in the content": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "AI Agent",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    }
  },
  "pinData": {
    "Webhook": [
      {
        "headers": {
          "host": "my-automation-4j0i.onrender.com",
          "user-agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36",
          "content-length": "1736",
          "accept": "*/*",
          "accept-encoding": "gzip, br",
          "accept-language": "en-US,en;q=0.9,ar;q=0.8,hy;q=0.7,ur;q=0.6",
          "cdn-loop": "cloudflare; loops=1",
          "cf-connecting-ip": "119.157.191.199",
          "cf-ipcountry": "PK",
          "cf-ray": "9bbf5dd01fce4906-SIN",
          "cf-visitor": "{\"scheme\":\"https\"}",
          "content-type": "application/json",
          "origin": "http://localhost:3000",
          "priority": "u=1, i",
          "referer": "http://localhost:3000/",
          "render-proxy-ttl": "4",
          "rndr-id": "d54a9789-ec83-447e",
          "sec-ch-ua": "\"Google Chrome\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\"",
          "sec-ch-ua-mobile": "?0",
          "sec-ch-ua-platform": "\"Windows\"",
          "sec-fetch-dest": "empty",
          "sec-fetch-mode": "cors",
          "sec-fetch-site": "cross-site",
          "true-client-ip": "119.157.191.199",
          "x-forwarded-for": "119.157.191.199, 172.71.82.149, 10.17.191.229",
          "x-forwarded-proto": "https",
          "x-request-start": "1768081579582560"
        },
        "params": {},
        "query": {},
        "body": {
          "jobDescription": "ğŸ“¢ hashtag#HiringAlert\n\nğğ¨ğ¬ğ¢ğ­ğ¢ğ¨ğ§: ğŒğ¢ğ ğ¥ğğ¯ğğ¥ - Full Stack Developer\nğ„ğ±ğ©ğğ«ğ¢ğğ§ğœğ: 2+ ğ²ğğšğ«ğ¬\nWe are looking for a skilled Full Stack Developer with experience in front end technologies and back-end development to join our development team. \n\nThe candidate will be responsible for developing and maintaining web applications, collaborating with cross-functional teams, and building robust solutions. This role requires proficiency in both front-end and back-end development, along with expertise in MySQL and MongoDB databases.\n\nğğ¨ğ­ğ: ğ“ğ¡ğ¢ğ¬ ğ¢ğ¬ ğšğ§ ğğ§ğ¬ğ¢ğ­ğ ğ«ğ¨ğ¥ğ, ğˆğ§ ğ‰ğ¨ğ¡ğšğ« ğ“ğ¨ğ°ğ§ ğ‹ğšğ¡ğ¨ğ«ğ. \nğ“ğ¢ğ¦ğ¢ğ§ğ ğ¬: 11:00 ğ€ğŒ - 8:00 ğğŒ\n\nğ–ğ¡ğšğ­ ğ–ğ ğğŸğŸğğ«:\nâ˜‘ï¸Biannual Increments\nâ˜‘ï¸Eid Bonuses/Gifts\nâ˜‘ï¸Leave Encashment\nâ˜‘ï¸Interest Free Loans\nâ˜‘ï¸Performance based incentives\nâ˜‘ï¸Maternity & Paternity Leaves\nâ˜‘ï¸Career & growth plans\nâ˜‘ï¸Monthly Dinner/Lunch\nâ˜‘ï¸Company Sponsored Trips\n\nğŸ“§ğ‡ğ¨ğ° ğ­ğ¨ ğ€ğ©ğ©ğ¥ğ²: Please share your resume here, faiqa.rashid@verdant-soft.com \n\nhashtag#FullStackDeveloper hashtag#FullStackDevelopment hashtag#SoftwareDeveloper hashtag#WebDeveloper hashtag#SoftwareEngineering hashtag#JavaScript hashtag#ReactJS hashtag#NodeJS hashtag#MERNStack hashtag#TechCareers hashtag#DeveloperCommunity hashtag#StartupLife hashtag#LinkedInTech hashtag#VerdantSoft\n\napply here ",
          "action": "save",
          "timestamp": "2026-01-10T21:46:19.504Z",
          "metadata": {
            "characterCount": 1339,
            "wordCount": 141
          }
        },
        "webhookUrl": "https://my-automation-4j0i.onrender.com/webhook/send-email-to-n8n",
        "executionMode": "production"
      }
    ],
    "AI Agent": [
      {
        "output": {
          "title": "Mid level - Full Stack Developer",
          "company": "Verdant Soft",
          "recruiter_name": "Faiqa Rashid",
          "recruiter_email": "faiqa.rashid@verdant-soft.com",
          "location": "Johar Town Lahore",
          "work_type": "Onsite",
          "experience": "2+ years",
          "skills": [
            "React.js",
            "Next.js",
            "Node.js",
            "MySQL",
            "MongoDB",
            "JavaScript",
            "TypeScript",
            "Tailwind CSS",
            "Redux Toolkit",
            "RTK Query",
            "Axios",
            "Zod",
            "Shadcn",
            "React-hook-form",
            "Express.js",
            "PostgreSQL",
            "Prisma",
            "REST APIs",
            "NextAuth.js",
            "Pusher",
            "WebSocket",
            "Socket.io",
            "Stripe",
            "Role-Based Access Control"
          ],
          "timings": "11:00 AM - 8:00 PM",
          "email_subject": "Application for Mid Level Full Stack Developer Position at Verdant Soft",
          "email_body_chunks": {
            "tldr": "I am a passionate Full Stack Developer focused on building scalable, responsive web applications using modern JavaScript frameworks and databases, eager to contribute to robust solutions.",
            "para1": "I am excited to apply for the Mid Level Full Stack Developer position at Verdant Soft. The opportunity to work onsite in Johar Town Lahore with a team dedicated to developing impactful web applications aligns perfectly with my career goals and expertise.",
            "para2": "With over two years of experience, I have developed and maintained comprehensive web applications using React.js, Next.js, Node.js, and both SQL and NoSQL databases like PostgreSQL and MongoDB. Notably, I built a social app featuring real-time chat, notifications, and role-based authentication using NextAuth.js, along with subscription services integrated via Stripe. My experience with WebSocket/Pusher for live updates and Prisma for efficient database management equips me well to deliver scalable solutions, matching Verdant Soft's requirements.",
            "para3": "I am confident that my hands-on experience with front-end UI components using Tailwind CSS and Shadcn, combined with backend API design and real-time features, will allow me to contribute effectively to your development team. I am eager to bring my skills in building responsive, feature-rich applications to support your projects and growth plans.",
            "closing": "Thank you for considering my application. I look forward to the possibility of discussing how my background and skills can contribute to Verdant Soft's success. Please feel free to reach out to me for any further information or to schedule an interview."
          }
        }
      }
    ]
  },
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "5fb562ea0f9026abe7e8f315ec46894e8801411ce3db851fdbe45168e485acda"
  }
}